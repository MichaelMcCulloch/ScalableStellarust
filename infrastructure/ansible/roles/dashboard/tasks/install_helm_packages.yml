---
- name: Install Kubernetes Dashboard
  kubernetes.core.helm:
    name: kubernetes-dashboard
    chart_ref: kubernetes-dashboard
    chart_repo_url: https://kubernetes.github.io/dashboard/
    chart_version: "{{kubernetes_dashboard_version}}"
    release_namespace: kubernetes-dashboard
    create_namespace: yes

- name: Install Nginx Ingress Controller
  kubernetes.core.helm:
    name: ingress-nginx
    chart_ref: ingress-nginx
    chart_repo_url: https://kubernetes.github.io/ingress-nginx
    # chart_version: "{{nginx_ingress_controller_version}}"
    release_namespace: ingress-nginx
    create_namespace: yes

- name: Install Cert Manager
  kubernetes.core.helm:
    name: cert-manager
    chart_ref: cert-manager
    chart_repo_url: https://charts.jetstack.io
    release_namespace: cert-manager
    chart_version: "{{cert_manager_version}}"
    create_namespace: yes
    values:
      installCRDs: true
