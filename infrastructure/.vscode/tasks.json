{
	"version": "2.0.0",
	"tasks": [
		{
			"type": "shell",
			"command": "vagrant up --parallel",
			"group": "build",
			"label": "Infrastructure::Vagrant::Spawn"
		},
		{
			"type": "shell",
			"command": "vagrant up --parallel --provision",
			"group": "build",
			"label": "Infrastructure::Vagrant::Provision"
		},
		{
			"type": "shell",
			"command": "vagrant destroy --parallel",
			"group": "build",
			"label": "Infrastructure::Vagrant::Destroy"
		},
		{
			"type": "shell",
			"command": "vagrant halt",
			"group": "build",
			"label": "Infrastructure::Vagrant::Halt"
		},
		{
			"command": "vagrant halt",
			"group": "build",
			"label": "Infrastructure::Vagrant::Redeploy",
			"dependsOrder": "sequence",
			"dependsOn": [
				"Infrastructure::Vagrant::Destroy",
				"Infrastructure::Vagrant::Provision",
				"Infrastructure::Ansible::VirtualMachines::DeployDatacenter"
			]
		},
		{
			"type": "shell",
			"command": [
				"ansible-playbook",
				"-i",
				"inventories/virtual_machines.yml",
				"deploy_datacenter.yml",
				"-u root",
			],
			"options": {
				"cwd": "${workspaceFolder}/ansible",
				"env": {
					"ANSIBLE_STDOUT_CALLBACK": "debug"
				}
			},
			"group": "build",
			"label": "Infrastructure::Ansible::VirtualMachines::DeployDatacenter"
		}
	]
}